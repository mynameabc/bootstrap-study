(function(){'use strict';$.fn.select.defaults={selectData:null,default:null,defaultType:'string',defaultURL:null,firstSelectID:-1,firstSelectText:'请选择...',IDFieldName:'id',ValueFieldName:'name',type:'GET',url:null,data:null,async:true,dataType:'JSON',defaultValueType:'GET',defaultValueURL:null,defaultValueData:null,defaultValueAsync:true,defaultValueDataType:'JSON',onBeforeLoad:function(param){},onLoadSuccess:function(param){},onChange:function(value){}};$.fn.selectInit=function(options){options=$.extend({},$.fn.select.defaults,options||{});{var target=$(this);target.empty();var option=$('<option></option>');option.attr('value',options.firstSelectID);option.text(options.firstSelectText);target.append(option);options.onBeforeLoad.call(target,options);if(null==options.selectData){$.ajax({type:options.type,url:options.url,data:options.data,async:options.async,dataType:options.dataType,success:function(data){init(target,data)}})}else{init(target,options.selectData)}}function init(target,data){$.each(data,function(i,item){option=$('<option></option>');option.attr('value',item[options.IDFieldName]);option.text(item[options.ValueFieldName]);target.append(option)});{if(options.defaultType=='string'){if(null!=options.default){target.val(options.default)}}if(options.defaultType=='url'){$.ajax({type:options.defaultValueType,url:options.defaultValueURL,data:options.defaultValueData,async:options.defaultValueAsync,dataType:options.defaultValueDataType,success:function(data){target.val(data)}})}}options.onLoadSuccess.call(target);target.unbind("change");target.on("change",function(e){if(options.onChange)return options.onChange(target.val())})}},$.fn.test=function(){}})(jQuery);